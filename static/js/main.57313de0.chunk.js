(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),o=n(17),i=n.n(o),r=n(32),c=n(27),s=n(15),u={initDB:function(){localStorage.setItem("employees",JSON.stringify([{Id:100,fullName:"\u041e\u0437\u0435\u0440\u043a\u043e\u0432 \u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u0412\u0435\u0434\u0443\u0449\u0438\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a",dateOfBirth:new Date("10.23.1985"),gender:"\u041c\u0443\u0436",isFired:!1},{Id:200,fullName:"\u041c\u043e\u0440\u0435\u0432 \u0421\u0435\u043c\u0435\u043d \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u0438\u0447",position:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a\u0438",dateOfBirth:new Date("09.23.1988"),gender:"\u041c\u0443\u0436",isFired:!0},{Id:300,fullName:"\u041b\u0435\u0441\u043e\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u041a\u043b\u0430\u0434\u043e\u0432\u0449\u0438\u043a",dateOfBirth:new Date("10.23.1998"),gender:"\u041c\u0443\u0436",isFired:!1}]))},getData:function(){return JSON.parse(localStorage.getItem("employees"))},saveData:function(e){localStorage.setItem("employees",JSON.stringify(e))},getSequenceId:function(e){var t=0;return Math.max.apply(Math,(e||[]).map((function(e){return e.Id})))!==Number.NEGATIVE_INFINITY&&(t=Math.max.apply(Math,e.map((function(e){return e.Id})))),t+100}},m={hasChangeEmployee:function(e){return u.getData().every((function(t){var n=e.find((function(e){return e.Id===t.Id}));return(null===n||void 0===n?void 0:n.dateOfBirth)===t.dateOfBirth&&n.fullName===t.fullName&&n.gender===t.gender&&n.isFired===t.isFired&&n.position===t.position}))},updateEmployees:function(e){return Object(s.a)(Object(s.a)({},e),{},{employees:u.getData()})}},d={Id:0,fullName:" ",position:"",dateOfBirth:new Date,gender:"",isFired:!1},p={selectedEmployee:d,employees:u.getData()};var E=Object(c.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_EMPLOYEE":var n=e.employees.find((function(e){return e.Id===t.payload.Id})),a=Object.assign({},e,{selectedEmployee:n});return a;case"SAVE_CHANGES":return Object(s.a)({},e);case"UPDATE_DATA_EMPLOYEES":if(m.hasChangeEmployee(e.employees))return m.updateEmployees(e);if(window.confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0432\u0441\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b"))return m.updateEmployees(e);case"DELETE_SELECTED_EMPLOYEE":var l=e.employees.filter((function(t){return t.Id!==e.selectedEmployee.Id}));return e.selectedEmployee=d,u.saveData(l),e.employees=l,Object(s.a)({},e);case"ADD_NEW_EMPLOYEE":t.payload.newEmployee.Id=u.getSequenceId(e.employees);var o=(e.employees||[]).concat(t.payload.newEmployee);return u.saveData(o),Object.assign({selectedEmployee:t.payload.newEmployee},{employees:o});default:return e}}),p),h=n(6),f=n(7),g=n(9),y=n(8),b=(n(72),n(73),n(74),function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-light bg-primary"},l.a.createElement("span",{className:"navbar-brand text-brand"},"\u0423\u0447\u0435\u0442 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 1.0"))}}]),n}(a.Component)),v=n(16),S=n(60),N=n.n(S),O=(n(75),function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChangeDate=function(e){a.setState({selectedEmployee:Object.assign(a.props.employee,{dateOfBirth:e})})},a.handleChangePosition=function(e){a.setState({selectedEmployee:Object.assign(a.props.employee,{position:e.target.value})})},a.handleChangeGender=function(e){a.setState({selectedEmployee:Object.assign(a.props.employee,{gender:e.target.value})})},a.handleChangeFired=function(e){a.setState({selectedEmployee:Object.assign(a.props.employee,{isFired:e.target.checked})})},a.getUTCDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"string"===typeof e&&(e=new Date(e)),new Date(e.getTime()+60*e.getTimezoneOffset()*1e3)},a.handleChangeFullName=a.handleChangeFullName.bind(Object(v.a)(a)),a.handleChangeDate=a.handleChangeDate.bind(Object(v.a)(a)),a.handleChangePosition=a.handleChangePosition.bind(Object(v.a)(a)),a.handleChangeGender=a.handleChangeGender.bind(Object(v.a)(a)),a.handleChangeFired=a.handleChangeFired.bind(Object(v.a)(a)),a}return Object(f.a)(n,[{key:"handleChangeFullName",value:function(e){this.setState({hasChangedControl:!0,selectedEmployee:Object.assign(this.props.employee,{fullName:e.target.value})})}},{key:"render",value:function(){var e={Id:0,fullName:" ",position:"",dateOfBirth:new Date,gender:"",isFired:!1},t=this.props.employee?this.props.employee:e;return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),l.a.createElement("hr",null),l.a.createElement("div",{className:"box-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0424\u0418\u041e"),l.a.createElement("input",{type:"text",name:"fullName",className:"form-control",value:t.fullName,onChange:this.handleChangeFullName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),l.a.createElement("select",{name:"position",className:"form-control",value:t.position,onChange:this.handleChangePosition},l.a.createElement("option",null,"__________"),l.a.createElement("option",null,"\u0412\u0435\u0434\u0443\u0449\u0438\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a"),l.a.createElement("option",null,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a\u0438"),l.a.createElement("option",null,"\u041a\u043b\u0430\u0434\u043e\u0432\u0449\u0438\u043a"),l.a.createElement("option",null,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),l.a.createElement("option",null,"\u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0442\u043e\u0440")))),l.a.createElement("div",{className:"col-xs-6 m-position-20"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),l.a.createElement("div",{className:"form-control"},l.a.createElement(N.a,{name:"date",selected:this.getUTCDate(t.dateOfBirth),onChange:this.handleChangeDate}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u041f\u043e\u043b"),l.a.createElement("div",{className:"radio"},l.a.createElement("label",{className:"radio-inline"},"\u041c\u0443\u0436 \xa0",l.a.createElement("input",{type:"radio",name:"famle",value:"\u041c\u0443\u0436",checked:"\u041c\u0443\u0436"===t.gender,onChange:this.handleChangeGender})),"\xa0\xa0\xa0",l.a.createElement("label",{className:"radio-inline"},"\u0416\u0435\u043d \xa0",l.a.createElement("input",{type:"radio",name:"woman",value:"\u0416\u0435\u043d",checked:"\u0416\u0435\u043d"===t.gender,onChange:this.handleChangeGender})),"\xa0",l.a.createElement("span",{className:"alert alert-info"}," \u0423\u0432\u043e\u043b\u0435\u043d \xa0",l.a.createElement("input",{type:"checkbox",name:"fired",checked:t.isFired,onChange:this.handleChangeFired})))))))))}}]),n}(a.Component)),D=function(){var e={"selected-employee":"click"};return{getValue:function(e){var t,n,a;return(null===(t=document.getElementsByName(e)[0])||void 0===t?void 0:t.checked)||(null===(n=document.getElementsByName(e)[0])||void 0===n?void 0:n.value)||(null===(a=document.querySelector(e))||void 0===a?void 0:a.value)},getElement:function(t){var n=document.getElementsByName(t)[0]||document.querySelector(t);return{on:function(t,a){n.addEventListener(e[t]||t,a)},clearField:function(){"value"in n&&(n.value=" "),"checked"in n&&(n.checked=!1)},click:function(){n.click()}}}}}(),C={_isDisabledSaveBtn:!0,getStatusSaveBtn:function(){return this._isDisabledSaveBtn},clearEmployeeCardFields:function(){setTimeout((function(){D.getElement("fullName").clearField(),D.getElement("position").clearField(),D.getElement("famle").clearField(),D.getElement("woman").clearField(),D.getElement("fired").clearField()}),0)},enableButtonsStatusCheck:function(e){var t=this,n="",a="",l="",o="",i="",r=!1;D.getElement("ul.container-list").on("selected-employee",function(){t._isDisabledSaveBtn=!0,e.setState({isDisabledSaveBtn:!0}),setTimeout((function(){r=!0,n=D.getValue("fullName").trim(),a=D.getValue("position"),l=D.getValue(".react-datepicker__input-container > input"),o=D.getValue("fired");var e="";D.getValue("famle")&&(e="\u041c\u0443\u0436"),D.getValue("woman")&&(e="\u0416\u0435\u043d"),i=e}),0)}.bind(e)),D.getElement("fullName").on("keyup",(function(){!0===r&&n!==D.getValue("fullName")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))})),D.getElement("position").on("change",(function(){!0===r&&a!==D.getValue("position")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))})),D.getElement(".react-datepicker__input-container > input").on("blur",(function(){!0===r&&l!==D.getValue(".react-datepicker__input-container > input")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))})),D.getElement("famle").on("change",(function(){!0===r&&i!==D.getValue("famle")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))})),D.getElement("woman").on("change",(function(){!0===r&&i!==D.getValue("woman")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))})),D.getElement("fired").on("change",(function(){!0===r&&o!==D.getValue("fired")&&(t._isDisabledSaveBtn=!1,e.setState({isDisabledSaveBtn:!1}))}))}},j=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).unsubscribeStore=function(){},a.state={isDisabledSaveBtn:!0},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.unsubscribeStore=E.subscribe((function(){0!==E.getState().selectedEmployee.Id&&D.getElement("ul.container-list").click()})),C.enableButtonsStatusCheck(this)}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar fixed-bottom navbar-light bg-primary toolbar"},l.a.createElement("div",{className:"m-position-5"},l.a.createElement("button",{disabled:C.getStatusSaveBtn(),onClick:this.props.save,className:"btn btn-light"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),l.a.createElement("button",{onClick:this.props.update,className:"btn btn-light"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),l.a.createElement("button",{disabled:!this.props.hasSelected,onClick:this.props.delete,className:"btn btn-light"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),l.a.createElement("button",{onClick:this.props.add,className:"btn btn-light"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")))}}]),n}(a.Component),_=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return l.a.createElement("li",{key:this.props.employee.Id,className:"list-group-item ".concat(this.props.employee.Id===this.props.selectedEmployeeId?"selected-employee":""),onClick:function(){return e.props.onSelectedEmployee(e.props.employee.Id)}},this.props.employee.fullName)}}]),n}(a.Component),k=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).unsubscribeStore=function(){},a}return Object(f.a)(n,[{key:"updatetStateFromStore",value:function(){var e=E.getState();this.setState(Object(s.a)({},e))}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeStore=E.subscribe((function(){return e.updatetStateFromStore()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),l.a.createElement("hr",null),l.a.createElement("ul",{className:"container-list container"},(this.props.employees||[]).map((function(t){return l.a.createElement(_,{key:t.Id,employee:t,onSelectedEmployee:e.props.onSelectedEmployee,selectedEmployeeId:e.props.selectedEmployee.Id})})))))}}]),n}(a.Component),B=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"container-fluid full-width"},a.createElement(b,null),a.createElement("div",{className:"box-container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement(k,{employees:this.props.employees,selectedEmployee:this.props.selectedEmployee,onSelectedEmployee:this.props.onSelectedEmployee})),a.createElement("div",{className:"col-xs-6 content-card"},a.createElement(O,{employee:this.props.selectedEmployee})))),a.createElement(j,{save:this.props.onSaveChangesEmployee,update:this.props.onUpdateDataEmployees,delete:this.props.onDeleteSelectedEmployee,add:function(){return e.props.onAddNewEmployee()},hasSelected:0!==this.props.selectedEmployee.Id}))}}]),n}(a.Component),I=Object(r.b)((function(e){return{employees:e.employees,selectedEmployee:e.selectedEmployee||{Id:0}}}),(function(e){return{onSelectedEmployee:function(t){return e({type:"SELECTED_EMPLOYEE",payload:{Id:t}})},onSaveChangesEmployee:function(){return e({type:"SAVE_CHANGES"})},onUpdateDataEmployees:function(){return C.clearEmployeeCardFields(),e({type:"UPDATE_DATA_EMPLOYEES"})},onDeleteSelectedEmployee:function(){return C.clearEmployeeCardFields(),e({type:"DELETE_SELECTED_EMPLOYEE"})},onAddNewEmployee:function(){var t=D.getValue("fullName"),n=D.getValue("position"),a=D.getValue(".react-datepicker__input-container > input"),l=D.getValue("fired"),o="";return D.getValue("famle")&&(o="\u041c\u0443\u0436"),D.getValue("woman")&&(o="\u0416\u0435\u043d"),e({type:"ADD_NEW_EMPLOYEE",payload:{newEmployee:{Id:0,fullName:t,position:n,dateOfBirth:a,gender:o,isFired:l}}})}}}))(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(132);i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(r.a,{store:E},l.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,n){e.exports=n(133)},72:function(e,t,n){},74:function(e,t,n){}},[[63,1,2]]]);
//# sourceMappingURL=main.57313de0.chunk.js.map