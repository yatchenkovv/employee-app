(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(17),r=a.n(o),c=a(32),i=a(27),s=a(15),m={initDB:function(){localStorage.setItem("employees",JSON.stringify([{Id:100,fullName:"\u041e\u0437\u0435\u0440\u043a\u043e\u0432 \u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u0412\u0435\u0434\u0443\u0449\u0438\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a",dateOfBirth:new Date("10.23.1985"),gender:"\u041c\u0443\u0436",isFired:!1},{Id:200,fullName:"\u041c\u043e\u0440\u0435\u0432 \u0421\u0435\u043c\u0435\u043d \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u0438\u0447",position:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a\u0438",dateOfBirth:new Date("09.23.1988"),gender:"\u041c\u0443\u0436",isFired:!0},{Id:300,fullName:"\u041b\u0435\u0441\u043e\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",position:"\u041a\u043b\u0430\u0434\u043e\u0432\u0449\u0438\u043a",dateOfBirth:new Date("10.23.1998"),gender:"\u041c\u0443\u0436",isFired:!1}]))},getData:function(){return JSON.parse(localStorage.getItem("employees"))},saveData:function(e){localStorage.setItem("employees",JSON.stringify(e))},getSequenceId:function(e){var t=0;return Math.max.apply(Math,(e||[]).map((function(e){return e.Id})))!==Number.NEGATIVE_INFINITY&&(t=Math.max.apply(Math,e.map((function(e){return e.Id})))),t+100}},d={hasChangeEmployee:function(e){return m.getData().every((function(t){var a=e.find((function(e){return e.Id===t.Id}));return(null===a||void 0===a?void 0:a.dateOfBirth)===t.dateOfBirth&&a.fullName===t.fullName&&a.gender===t.gender&&a.isFired===t.isFired&&a.position===t.position}))},updateEmployees:function(e){return Object(s.a)(Object(s.a)({},e),{},{employees:m.getData()})}},p={Id:0,fullName:" ",position:"",dateOfBirth:new Date,gender:"",isFired:!1},u={selectedEmployee:p,employees:m.getData()};var E=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_EMPLOYEE":var a=e.employees.find((function(e){return e.Id===t.payload.Id})),n=Object.assign({},e,{selectedEmployee:a});return n;case"SAVE_CHANGES":return Object(s.a)({},e);case"UPDATE_DATA_EMPLOYEES":if(d.hasChangeEmployee(e.employees))return d.updateEmployees(e);if(window.confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0432\u0441\u0435 \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b"))return d.updateEmployees(e);case"DELETE_SELECTED_EMPLOYEE":var l=e.employees.filter((function(t){return t.Id!==e.selectedEmployee.Id}));return e.selectedEmployee=p,m.saveData(l),e.employees=l,Object(s.a)({},e);case"ADD_NEW_EMPLOYEE":t.payload.newEmployee.Id=m.getSequenceId(e.employees);var o=(e.employees||[]).concat(t.payload.newEmployee);return m.saveData(o),Object.assign({selectedEmployee:t.payload.newEmployee},{employees:o});default:return e}}),u),h=a(6),y=a(7),f=a(9),g=a(8),b=(a(72),a(73),a(74),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-light bg-primary"},l.a.createElement("span",{className:"navbar-brand text-brand"},"\u0423\u0447\u0435\u0442 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 1.0"))}}]),a}(n.Component)),v=a(16),N=a(60),O=a.n(N),C=(a(75),function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChangeDate=function(e){n.setState({selectedEmployee:Object.assign(n.props.employee,{dateOfBirth:e})})},n.handleChangePosition=function(e){n.setState({selectedEmployee:Object.assign(n.props.employee,{position:e.target.value})})},n.handleChangeGender=function(e){n.setState({selectedEmployee:Object.assign(n.props.employee,{gender:e.target.value})})},n.handleChangeFired=function(e){n.setState({selectedEmployee:Object.assign(n.props.employee,{isFired:e.target.checked})})},n.getUTCDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"string"===typeof e&&(e=new Date(e)),new Date(e.getTime()+60*e.getTimezoneOffset()*1e3)},n.handleChangeFullName=n.handleChangeFullName.bind(Object(v.a)(n)),n.handleChangeDate=n.handleChangeDate.bind(Object(v.a)(n)),n.handleChangePosition=n.handleChangePosition.bind(Object(v.a)(n)),n.handleChangeGender=n.handleChangeGender.bind(Object(v.a)(n)),n.handleChangeFired=n.handleChangeFired.bind(Object(v.a)(n)),n}return Object(y.a)(a,[{key:"handleChangeFullName",value:function(e){console.log("change log fullname "),window.formModified=!0,this.setState({hasChangedControl:!0,selectedEmployee:Object.assign(this.props.employee,{fullName:e.target.value})})}},{key:"render",value:function(){var e={Id:0,fullName:" ",position:"",dateOfBirth:new Date,gender:"",isFired:!1},t=this.props.employee?this.props.employee:e;return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),l.a.createElement("hr",null),l.a.createElement("div",{className:"box-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0424\u0418\u041e"),l.a.createElement("input",{type:"text",name:"fullName",className:"form-control",value:t.fullName,onChange:this.handleChangeFullName})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),l.a.createElement("select",{name:"position",className:"form-control",value:t.position,onChange:this.handleChangePosition},l.a.createElement("option",null,"__________"),l.a.createElement("option",null,"\u0412\u0435\u0434\u0443\u0449\u0438\u0439 \u0438\u043d\u0436\u0435\u043d\u0435\u0440 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a"),l.a.createElement("option",null,"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a \u043e\u0442\u0434\u0435\u043b\u0430 \u0442\u0435\u043f\u043b\u043e\u0442\u0435\u0445\u043d\u0438\u043a\u0438"),l.a.createElement("option",null,"\u041a\u043b\u0430\u0434\u043e\u0432\u0449\u0438\u043a"),l.a.createElement("option",null,"\u0412\u043e\u0434\u0438\u0442\u0435\u043b\u044c"),l.a.createElement("option",null,"\u042d\u043a\u0441\u043f\u0435\u0434\u0438\u0442\u043e\u0440")))),l.a.createElement("div",{className:"col-xs-6 m-position-20"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),l.a.createElement("div",{className:"form-control"},l.a.createElement(O.a,{selected:this.getUTCDate(t.dateOfBirth),onChange:this.handleChangeDate}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\u041f\u043e\u043b"),l.a.createElement("div",{className:"radio"},l.a.createElement("label",{className:"radio-inline"},"\u041c\u0443\u0436 \xa0",l.a.createElement("input",{type:"radio",name:"genderradioM",value:"\u041c\u0443\u0436",checked:"\u041c\u0443\u0436"===t.gender,onChange:this.handleChangeGender})),"\xa0\xa0\xa0",l.a.createElement("label",{className:"radio-inline"},"\u0416\u0435\u043d \xa0",l.a.createElement("input",{type:"radio",name:"genderradioW",value:"\u0416\u0435\u043d",checked:"\u0416\u0435\u043d"===t.gender,onChange:this.handleChangeGender})),"\xa0",l.a.createElement("span",{className:"alert alert-info"}," \u0423\u0432\u043e\u043b\u0435\u043d \xa0",l.a.createElement("input",{type:"checkbox",name:"fired",checked:t.isFired,onChange:this.handleChangeFired})))))))))}}]),a}(n.Component)),j=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(y.a)(a,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar fixed-bottom navbar-light bg-primary toolbar"},l.a.createElement("div",{className:"m-position-5"},l.a.createElement("button",{onClick:this.props.save,className:"btn btn-light"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),l.a.createElement("button",{onClick:this.props.update,className:"btn btn-light"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"),l.a.createElement("button",{disabled:!this.props.hasSelected,onClick:this.props.delete,className:"btn btn-light"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"),l.a.createElement("button",{onClick:this.props.add,className:"btn btn-light"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430")))}}]),a}(n.Component),S=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("li",{key:this.props.employee.Id,className:"list-group-item ".concat(this.props.employee.Id===this.props.selectedEmployeeId?"selected-employee":""),onClick:function(){return e.props.onSelectedEmployee(e.props.employee.Id)}},this.props.employee.fullName)}}]),a}(n.Component),D=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).unsubscribeStore=function(){},n}return Object(y.a)(a,[{key:"updatetStateFromStore",value:function(){var e=E.getState();this.setState(Object(s.a)({},e))}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeStore=E.subscribe((function(){return e.updatetStateFromStore()}))}},{key:"componentWillUnmount",value:function(){console.log("log unmount component"),this.unsubscribeStore()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"jumbotron jumbotron-fluid"},l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),l.a.createElement("hr",null),l.a.createElement("ul",{className:"container-list container"},(this.props.employees||[]).map((function(t){return l.a.createElement(S,{key:t.Id,employee:t,onSelectedEmployee:e.props.onSelectedEmployee,selectedEmployeeId:e.props.selectedEmployee.Id})})))))}}]),a}(n.Component),I=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return n.createElement("div",{className:"container-fluid full-width"},n.createElement(b,null),n.createElement("div",{className:"box-container"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-xs-6"},n.createElement(D,{employees:this.props.employees,selectedEmployee:this.props.selectedEmployee,onSelectedEmployee:this.props.onSelectedEmployee})),n.createElement("div",{className:"col-xs-6 content-card"},n.createElement(C,{employee:this.props.selectedEmployee})))),n.createElement(j,{save:this.props.onSaveChangesEmployee,update:this.props.onUpdateDataEmployees,delete:this.props.onDeleteSelectedEmployee,add:function(){return e.props.onAddNewEmployee()},hasSelected:0!==this.props.selectedEmployee.Id}))}}]),a}(n.Component),k=Object(c.b)((function(e){return{employees:e.employees,selectedEmployee:e.selectedEmployee||{Id:0}}}),(function(e){return{onSelectedEmployee:function(t){return e({type:"SELECTED_EMPLOYEE",payload:{Id:t}})},onSaveChangesEmployee:function(){return e({type:"SAVE_CHANGES"})},onUpdateDataEmployees:function(){return e({type:"UPDATE_DATA_EMPLOYEES"})},onDeleteSelectedEmployee:function(){return e({type:"DELETE_SELECTED_EMPLOYEE"})},onAddNewEmployee:function(){var t=document.getElementsByName("fullName")[0].value,a=document.getElementsByName("position")[0].value,n=document.querySelector(".react-datepicker__input-container > input").value,l=document.getElementsByName("fired")[0].checked,o="";return!0===document.getElementsByName("genderradioM")[0].checked&&(o="\u041c\u0443\u0436"),!0===document.getElementsByName("genderradioW")[0].checked&&(o="\u0416\u0435\u043d"),e({type:"ADD_NEW_EMPLOYEE",payload:{newEmployee:{Id:0,fullName:t,position:a,dateOfBirth:n,gender:o,isFired:l}}})}}}))(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(132);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(c.a,{store:E},l.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a(133)},72:function(e,t,a){},74:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.9ef62fce.chunk.js.map